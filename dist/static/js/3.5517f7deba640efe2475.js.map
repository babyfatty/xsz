{"version":3,"sources":["webpack:///./src/components/checkOrder.vue?c9a7","webpack:///./src/components/checkOrder.vue?f8fb","webpack:///./src/components/checkOrder.vue?dc59","webpack:///./src/components/checkOrder.vue","webpack:///checkOrder.vue"],"names":[],"mappings":";;;;;AAAA;AACA;;;AAGA;AACA,+SAAgT,0FAA0F;;AAE1Y;;;;;;;;ACPA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,gCAAgC,UAAU,EAAE;AAC5C,C;;;;;;;ACpBA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH,CAAC,+BAA+B,aAAa,0BAA0B;AACvE;AACA;AACA,GAAG;AACH,CAAC,aAAa,aAAa,0BAA0B;AACrD;AACA;AACA,GAAG;AACH,CAAC,E;;;;;;;;ACjCD;AACA,uBAAgG;;AAEhG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC0BA;QAEA;SACA;;aAEA;iBACA;aACA;aAEA;AALA;AAMA;YACA;4BACA;eACA;;;sBAIA;AAFA;AADA,mBAIA;qBACA;0BACA;;qBAEA;qCACA;mCACA;iCACA;mCACA;mCAEA;AAPA;AAQA;AACA;;aAEA;2CACA;AACA;WACA;gCACA;AAEA;AAPA;;cASA;iBACA;2BACA;4DACA;sBACA;gEACA;uDACA;;mBAEA;sBACA;8CACA;sBACA;uBAEA;AANA;oCAOA;0BACA;mCACA;gDACA;AACA;2CACA;wBACA;2CACA;mBACA;AACA;sBACA;;sBAEA;wCACA;sBACA;uBACA;qBACA;oCACA;mCACA;6CACA;qCACA;AACA;iCACA;oBACA;AACA;mCACA;oBACA;6CACA;AAGA;AAnBA;AAoBA;AACA;AACA;AAEA;AAlDA;AAtCA,E","file":"static/js/3.5517f7deba640efe2475.js","sourcesContent":["exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"checkOrder.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-7cf2bb89&scoped=true!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/checkOrder.vue\n// module id = 113\n// module chunks = 3","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?sourceMap!../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-7cf2bb89&scoped=true!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./checkOrder.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"caf6fde2\", content, true);\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../node_modules/css-loader/index.js?sourceMap!../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-7cf2bb89&scoped=true!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./checkOrder.vue\", function() {\n     var newContent = require(\"!!../../node_modules/css-loader/index.js?sourceMap!../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-7cf2bb89&scoped=true!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./checkOrder.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-7cf2bb89&scoped=true!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/checkOrder.vue\n// module id = 142\n// module chunks = 3","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"checkOrder\"\n  }, [_c('div', {\n    staticClass: \"confirm-seats-info\"\n  }, [_c('h3', [_vm._v(_vm._s(_vm.sname))]), _vm._v(\" \"), _c('div', {\n    staticClass: \"location\"\n  }, [_vm._v(\"\\n      \" + _vm._s(_vm.slocation) + \"\\n    \")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"time\"\n  }, [_vm._v(\"\\n      \" + _vm._s(_vm.stime) + \"\\n    \")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"seats\"\n  }, _vm._l((_vm.chosen), function(item) {\n    return _c('span', [_vm._v(\"\\n        \" + _vm._s(item.row * 1 + 1) + \"排\" + _vm._s(item.column * 1 + 1) + \"座\\n      \")])\n  })), _vm._v(\" \"), _c('div', [_vm._v(\"\\n      电话：\" + _vm._s(_vm.user.phone) + \"\\n    \")]), _vm._v(\" \"), _c('div', [_vm._v(\"\\n      预订人：\" + _vm._s(_vm.user.username) + \"\\n    \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"price\"\n  }, [_vm._v(\"\\n    预约费用总计：4元\\n  \")]), _vm._v(\" \"), _vm._m(0), _vm._v(\" \"), _vm._m(1), _vm._v(\" \"), _c('div', {\n    staticClass: \"payBtn\"\n  }, [_c('button', {\n    staticClass: \"btn btn-danger\",\n    attrs: {\n      \"type\": \"button\"\n    },\n    on: {\n      \"click\": _vm.goToPay\n    }\n  }, [_vm._v(\"立即付款\")])])])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"statement\"\n  }, [_c('h5', [_vm._v(\"购票须知\")]), _vm._v(\" \"), _c('div', [_vm._v(\"1,本场讲座位公益讲座，所有预约费用讲捐献给学习基金\")]), _vm._v(\" \"), _c('div', [_vm._v(\"2,本场讲座设计大量人力物力，预约成功不可退款\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"priceInfo\"\n  }, [_c('span', [_vm._v(\"本场讲座不支持退换票\")]), _vm._v(\" \"), _c('span', [_vm._v(\"应付4元\")])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-7cf2bb89!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/checkOrder.vue\n// module id = 179\n// module chunks = 3","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../node_modules/vue-loader/lib/style-rewriter?id=data-v-7cf2bb89&scoped=true!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./checkOrder.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./checkOrder.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-7cf2bb89!../../node_modules/vue-loader/lib/selector?type=template&index=0!./checkOrder.vue\"),\n  /* scopeId */\n  \"data-v-7cf2bb89\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/checkOrder.vue\n// module id = 20\n// module chunks = 3","<template>\n  <div class=\"checkOrder\">\n    <div class=\"confirm-seats-info\">\n      <h3>{{sname}}</h3>\n      <div class=\"location\">\n        {{slocation}}\n      </div>\n      <div class=\"time\">\n        {{stime}}\n      </div>\n      <div class=\"seats\">\n        <span v-for=\"item in chosen\">\n          {{item.row*1+1}}排{{item.column*1+1}}座\n        </span>\n      </div>\n      <div>\n        电话：{{user.phone}}\n      </div>\n      <div>\n        预订人：{{user.username}}\n      </div>\n    </div>\n    <div class=\"price\">\n      预约费用总计：4元\n    </div>\n    <div class=\"statement\">\n      <h5>购票须知</h5>\n      <div>1,本场讲座位公益讲座，所有预约费用讲捐献给学习基金</div>\n      <div>2,本场讲座设计大量人力物力，预约成功不可退款</div>\n    </div>\n    <div class=\"priceInfo\">\n      <span>本场讲座不支持退换票</span>\n      <span>应付4元</span>\n    </div>\n    <div class=\"payBtn\">\n        <button type=\"button\" v-on:click=\"goToPay\" class=\"btn btn-danger\">立即付款</button>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'checkOrder',\n  data () {\n    return {\n      sname:'小高考公益讲座',\n      slocation:'南京市中山会议中心中山厅',\n      phone:'13222001020',\n      stime:'03-15 09:25-11:04'\n    }\n  },\n  mounted() {\n    console.log(this.$route.params)\n    var self = this\n    this.$http.get('/xsz/api/sign',{\n        params:{\n          url:location.href\n        }\n      }).then((res)=>{\n        var data = res.data\n        console.log('data',data)\n        wx.config({\n            debug: true, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。\n            appId: 'wx829b884172f246ea', // 必填，公众号的唯一标识\n            timestamp: data.timestamp, // 必填，生成签名的时间戳\n            nonceStr: data.nonceStr, // 必填，生成签名的随机串\n            signature: data.signature,// 必填，签名，见附录1\n            jsApiList: ['chooseWXPay'] // 必填，需要使用的JS接口列表，所有JS接口列表见附录2\n        });  \n     })\n  },\n  computed:{\n    chosen(){\n      return JSON.parse(this.$route.params.chosen)\n    },\n    user(){\n      return this.$route.params.user\n    }\n  },\n  methods:{\n    goToPay(){\n      var self = this\n      wx.ready(function(){\n          self.$http.get('/xsz/api/unifiedorder').then((res)=>{\n            console.log(res)\n              var nonceStr = md5(new Date().getTime()).substring(0, 32)\n              var time = Math.floor(new Date().getTime()/1000)\n              var payload = {\n                appId:'wx829b884172f246ea',\n                nonceStr: nonceStr, \n                package: 'prepay_id='+res.data, // 统一支付接口返回的prepay_id参数值，提交格式如：prepay_id=***）\n                signType: 'MD5', \n                timeStamp: time\n              }\n              let genSign = function(){  \n               var stringA=\"\";\n               for(var i in payload){\n                 stringA+=(i+'='+payload[i]+'&')\n               }\n               var stringSignTemp=stringA+\"key=d41d8cd98f00b204e9800998ecf8427e\"\n               console.log(stringSignTemp)\n               var sign=md5(stringSignTemp).toUpperCase()\n               return sign\n              }\n              console.log(payload)\n              wx.chooseWXPay({\n                  nonceStr: nonceStr, \n                  package: 'prepay_id='+res.data, \n                  signType: 'MD5', \n                  timestamp: time,\n                  paySign: genSign(), \n                  success: function (res) {\n                    alert(JSON.stringify(res))\n                    self.$router.replace({\"name\":\"orderdetail\"})\n                    console.log('success',res)\n                  },\n                  fail: function(res){\n                    alert(res)\n                  },\n                  cancel: function(res){\n                      alert(res)\n                      self.$router.replace({\"name\":\"orderdetail\"})\n                  }\n              })\n              \n          })\n        })\n      // this.$router.replace({'name':'payment'})\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// checkOrder.vue?0345cff1"],"sourceRoot":""}